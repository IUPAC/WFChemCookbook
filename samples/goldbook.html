
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Accessing the IUPAC Gold Book API in Python &#8212; IUPAC FAIR Chemistry Cookbook</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Computing InChIs" href="computing_inchis.html" />
    <link rel="prev" title="We need your feedback!" href="../sampler.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/iupac_and_wf.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">IUPAC FAIR Chemistry Cookbook</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Using the Cookbook
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  SAMPLE RECIPES
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../sampler.html">
   We need your feedback!
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Accessing the IUPAC Gold Book API in Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="computing_inchis.html">
   Computing InChIs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="learn_spectra.html">
   FAIR formating of (multi, hyper) spectral data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dataset_search.html">
   Finding a Findable Dataset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="PrepChemicalDataforSharing.html">
   Preparing Chemical Data for FAIR Sharing - A Minimalist Approach
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="pubchem-pug.html">
   PubChem PUG-REST API
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="pubchem-pug-rest1.html">
     Accessing PubChem through PUG-REST - Part I
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="pubchem-pug-rest2.html">
     Accessing PubChem through PUG-REST: Part II
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="pubchem-pug-rest3.html">
     Accessing PubChem through PUG-REST: Part III
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="uvvis_metadata.html">
   Structured UV/Vis (meta)data for small molecule characterisation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="opsin.html">
   Using the OPSIN API in Python
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  CULINARY SCHOOL
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../school.html">
   FAIR basics for Chemistry
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  INGREDIENTS
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../ingredients.html">
   Data standards and formats for Chemistry
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  RECIPES
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../recipes.html">
   Workflows for machine-readable chemical data
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  TEST KITCHEN
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../kitchen.html">
   Checking your chemical data/metadata
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  PANTRY
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../pantry.html">
   Finding and sharing FAIR chemical data
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  COOKWARE
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../cookware.html">
   Tools for enabling FAIR chemical data
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../menus.html">
   Use cases for FAIR chemical data
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  REFERENCE
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../about.html">
   About this Project
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../glossary.html">
   Glossary
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../bibliography.html">
   Bibliography
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/IUPAC/WFChemCookbook/main?urlpath=tree/book/samples/goldbook.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/IUPAC/WFChemCookbook/blob/main/book/samples/goldbook.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/IUPAC/WFChemCookbook"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/IUPAC/WFChemCookbook/issues/new?title=Issue%20on%20page%20%2Fsamples/goldbook.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/samples/goldbook.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-1-import-needed-python-packages">
   Step 1: Import needed Python packages
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-2-add-a-python-function">
   Step 2: Add a Python function
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-3-download-a-json-file">
   Step 3: Download a JSON file
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-4-search-for-a-term">
   Step 4: Search for a term
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-5-use-the-term-code-to-retrieve-its-definition">
   Step 5: Use the term code to retrieve its definition
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-6-try-other-terms">
   Step 6: Try other terms
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Accessing the IUPAC Gold Book API in Python</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-1-import-needed-python-packages">
   Step 1: Import needed Python packages
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-2-add-a-python-function">
   Step 2: Add a Python function
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-3-download-a-json-file">
   Step 3: Download a JSON file
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-4-search-for-a-term">
   Step 4: Search for a term
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-5-use-the-term-code-to-retrieve-its-definition">
   Step 5: Use the term code to retrieve its definition
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#step-6-try-other-terms">
   Step 6: Try other terms
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="accessing-the-iupac-gold-book-api-in-python">
<h1>Accessing the IUPAC Gold Book API in Python<a class="headerlink" href="#accessing-the-iupac-gold-book-api-in-python" title="Permalink to this headline">#</a></h1>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
About this interactive <img alt="icons" src="../_images/rocket.png" /> recipe<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<ul class="simple">
<li><p class="sd-card-text">Author: <a class="reference external" href="https://orcid.org/0000-0002-0703-7776">Stuart Chalk</a></p></li>
<li><p class="sd-card-text">Reviewer:</p></li>
<li><p class="sd-card-text">Topics: The IUPAC Gold Book, APIs, JSON</p></li>
<li><p class="sd-card-text">Format: Interactive Jupyter Notebook (Python)</p></li>
<li><p class="sd-card-text">Scenarios: Retrieve the definition of a chemical concept via code</p></li>
<li><p class="sd-card-text">Skills: You should be familiar with</p>
<ul>
<li><p class="sd-card-text"><a class="reference external" href="https://www.ibm.com/topics/api">Application Programming Interfaces (APIs)</a></p></li>
<li><p class="sd-card-text"><a class="reference external" href="https://www.w3schools.com/js/js_json_intro.asp">The JavaScript Object Notation (JSON) file format</a></p></li>
<li><p class="sd-card-text"><a class="reference external" href="https://www.youtube.com/watch?v=kqtD5dpn9C8">Introductory Python</a></p></li>
<li><p class="sd-card-text">[Regular expressions]</p></li>
</ul>
</li>
<li><p class="sd-card-text">Learning outcomes: After completing this example you should understand:</p>
<ul>
<li><p class="sd-card-text">What is a Python function (def)</p></li>
<li><p class="sd-card-text">How to write Python code to request data from a URL (typically an API)</p></li>
<li><p class="sd-card-text">How to use a Python variable to call an API and download data</p></li>
</ul>
</li>
<li><p class="sd-card-text">Citation: We will not be providing citations for the sampler, but citations for recipes will be available (with copy button) in the full release of the Cookbook and will include DOI’s.</p></li>
<li><p class="sd-card-text">Reuse: This notebook is made available under a <a class="reference external" href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a> license.</p></li>
</ul>
</div>
</details><section id="step-1-import-needed-python-packages">
<h2>Step 1: Import needed Python packages<a class="headerlink" href="#step-1-import-needed-python-packages" title="Permalink to this headline">#</a></h2>
<p>Python has a lot of functionality that can be imported using the ‘import’ function</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>                             <span class="c1"># package to get data from a URL</span>
<span class="kn">import</span> <span class="nn">json</span>                                 <span class="c1"># package to read/write/display JSON formatted data</span>
<span class="kn">import</span> <span class="nn">re</span>                                   <span class="c1"># package to use regular expression (regex) searching</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-2-add-a-python-function">
<h2>Step 2: Add a Python function<a class="headerlink" href="#step-2-add-a-python-function" title="Permalink to this headline">#</a></h2>
<p>This function removes HTML tags from textual data.  It uses <a class="reference external" href="https://www.youtube.com/watch?v=rhzKDrUiJVk">regular expressions</a> to detect HTML tags (e.g., <b>I am surrounded by HTML tags</b>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Source: https://medium.com/@jorlugaqui/how-to-strip-html-tags-from-a-string-in-python-7cb81a2bbf44</span>
<span class="k">def</span> <span class="nf">remove_html_tags</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>                 <span class="c1"># a &#39;def&#39; is a (defined) function that can be called later</span>
    <span class="n">clean</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;&lt;.*?&gt;&#39;</span><span class="p">)</span>             <span class="c1"># sets up a regular expression to search with</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">clean</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>          <span class="c1"># removes the matches to the regular expression</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-3-download-a-json-file">
<h2>Step 3: Download a JSON file<a class="headerlink" href="#step-3-download-a-json-file" title="Permalink to this headline">#</a></h2>
<p>Download data for all the IUPAC Recommended Terms currently available. Even though the amount of data that we download here is big (804 kB),
it is better to get the data all at once rather than call the API every time in a loop.  This makes the ‘for’ loop in Step 4 much faster.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">allpath</span> <span class="o">=</span> <span class="s2">&quot;https://goldbook.iupac.org/terms/index/all/json&quot;</span>  <span class="c1"># URL to the IUPAC Gold Book API down</span>
<span class="n">reqdata</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">allpath</span><span class="p">)</span>                              <span class="c1"># download file in JSON</span>
<span class="n">terms</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">reqdata</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>                          <span class="c1"># convert JSON to a Python dictionary</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">terms</span><span class="p">[</span><span class="s1">&#39;terms&#39;</span><span class="p">][</span><span class="s1">&#39;list&#39;</span><span class="p">]))</span> <span class="o">+</span> <span class="s1">&#39; terms&#39;</span><span class="p">)</span>           <span class="c1"># print the number of terms in the list</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7052 terms
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-4-search-for-a-term">
<h2>Step 4: Search for a term<a class="headerlink" href="#step-4-search-for-a-term" title="Permalink to this headline">#</a></h2>
<p>Here we search the recommended term list and if present get the terms code.  We use the function above to ‘normalize’ the text of the titles from
the Gold Book entries, by removing the HTML markup, so they match the term we are looking for. (Note: not all term titles have HTML in them)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">searchterm</span> <span class="o">=</span> <span class="s2">&quot;cis-trans isomers&quot;</span>                            <span class="c1"># the term to be found</span>
<span class="n">searchcode</span> <span class="o">=</span> <span class="kc">None</span>                                           <span class="c1"># empty variable to contain the searchcode</span>
<span class="n">rawtitle</span> <span class="o">=</span> <span class="kc">None</span>                                             <span class="c1"># empty variable to contain the raw title string</span>
<span class="k">for</span> <span class="n">code</span><span class="p">,</span> <span class="n">term</span> <span class="ow">in</span> <span class="n">terms</span><span class="p">[</span><span class="s1">&#39;terms&#39;</span><span class="p">][</span><span class="s1">&#39;list&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>           <span class="c1"># iterate over each term in the list (code (str), term (obj))</span>
    <span class="n">cleaned</span> <span class="o">=</span> <span class="n">remove_html_tags</span><span class="p">(</span><span class="n">term</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>               <span class="c1"># remove any HTML formatting in the title</span>
    <span class="k">if</span> <span class="n">cleaned</span> <span class="o">==</span> <span class="n">searchterm</span><span class="p">:</span>                               <span class="c1"># check if the term matches the one we want</span>
        <span class="n">searchcode</span> <span class="o">=</span> <span class="n">code</span>                                   <span class="c1"># if it does, get the code for the term</span>
        <span class="n">rawtitle</span> <span class="o">=</span> <span class="n">term</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>                            <span class="c1"># saw the raw title so we can see it below</span>
        <span class="k">break</span>                                               <span class="c1"># we have found the term, so we can get out of the for loop</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rawtitle</span><span class="p">)</span>                                             <span class="c1"># IUPAC Gold Book term code (if found)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">searchcode</span><span class="p">)</span>                                           <span class="c1"># IUPAC Gold Book term code (if found)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;i&gt;cis&lt;/i&gt;-&lt;i&gt;trans&lt;/i&gt; isomers
C01093
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-5-use-the-term-code-to-retrieve-its-definition">
<h2>Step 5: Use the term code to retrieve its definition<a class="headerlink" href="#step-5-use-the-term-code-to-retrieve-its-definition" title="Permalink to this headline">#</a></h2>
<p>Generate a URL to get data about a term, print out the term, its code and its definition</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;https://goldbook.iupac.org/terms/view/**/json&quot;</span>      <span class="c1"># URL path to the IUPAC Gold Book API for a term</span>
<span class="n">reqdata</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;**&quot;</span><span class="p">,</span> <span class="n">searchcode</span><span class="p">))</span>      <span class="c1"># request data from the Gold Book server</span>
<span class="n">jsondata</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">reqdata</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>                      <span class="c1"># get the downloaded JSON</span>
<span class="nb">print</span><span class="p">(</span><span class="n">jsondata</span><span class="p">)</span>                                             <span class="c1"># print out all the downloaded data, so we can &#39;see&#39; its structure and know how to get the definition</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;term&#39;: {&#39;id&#39;: &#39;01093&#39;, &#39;doi&#39;: &#39;10.1351/goldbook.C01093&#39;, &#39;code&#39;: &#39;C01093&#39;, &#39;status&#39;: &#39;current&#39;, &#39;longtitle&#39;: &#39;IUPAC Gold Book - cis-trans isomers&#39;, &#39;title&#39;: &#39;&lt;i&gt;cis&lt;/i&gt;-&lt;i&gt;trans&lt;/i&gt; isomers&#39;, &#39;version&#39;: &#39;2.3.3&#39;, &#39;lastupdated&#39;: &#39;2014-02-24&#39;, &#39;definitions&#39;: [{&#39;id&#39;: &#39;1&#39;, &#39;text&#39;: &#39;Stereoisomeric olefins or cycloalkanes (or hetero-analogues) which differ in the positions of atoms (or groups) relative to a reference plane: in the cis-isomer the atoms are on the same side, in the trans-isomer they are on opposite sides. [image: molecular structures showing cis/trans isomerism]&#39;, &#39;chemicals&#39;: [{&#39;type&#39;: &#39;chemimage&#39;, &#39;title&#39;: &#39;molecular structures showing cis/trans isomerism&#39;, &#39;file&#39;: &#39;https://goldbook.iupac.org/img/inline/C01093.png&#39;}], &#39;links&#39;: [{&#39;title&#39;: &#39;Stereoisomeric&#39;, &#39;type&#39;: &#39;internal&#39;, &#39;url&#39;: &#39;https://goldbook.iupac.org/terms/view/S05983&#39;}, {&#39;title&#39;: &#39;olefins&#39;, &#39;type&#39;: &#39;goldify&#39;, &#39;url&#39;: &#39;https://goldbook.iupac.org/terms/view/O04281&#39;}, {&#39;title&#39;: &#39;cycloalkanes&#39;, &#39;type&#39;: &#39;goldify&#39;, &#39;url&#39;: &#39;https://goldbook.iupac.org/terms/view/C01497&#39;}, {&#39;title&#39;: &#39;isomer&#39;, &#39;type&#39;: &#39;goldify&#39;, &#39;url&#39;: &#39;https://goldbook.iupac.org/terms/view/I03289&#39;}, {&#39;title&#39;: &#39;trans&#39;, &#39;type&#39;: &#39;goldify&#39;, &#39;url&#39;: &#39;https://goldbook.iupac.org/terms/view/C01092&#39;}], &#39;sources&#39;: [&quot;PAC, 1996, 68, 2193. &#39;Basic terminology of stereochemistry (IUPAC Recommendations 1996)&#39; on page 2204 (https://doi.org/10.1351/pac199668122193)&quot;]}], &#39;referencedin&#39;: [{&#39;title&#39;: &#39;Wikipedia - Cis-trans izomerie (cs)&#39;, &#39;url&#39;: &#39;https://cs.wikipedia.org/wiki/Cis-trans_izomerie&#39;}, {&#39;title&#39;: &#39;Wikipedia - Cis-trans izoméria (sk)&#39;, &#39;url&#39;: &#39;https://sk.wikipedia.org/wiki/Cis-trans_izoméria&#39;}, {&#39;title&#39;: &#39;Wikipedia - Cis–trans isomerism (en)&#39;, &#39;url&#39;: &#39;https://en.wikipedia.org/wiki/Cis–trans_isomerism&#39;}, {&#39;title&#39;: &#39;Wikipedia - Isomeria (it)&#39;, &#39;url&#39;: &#39;https://it.wikipedia.org/wiki/Isomeria&#39;}, {&#39;title&#39;: &#39;Wikipedia - Isomeria cis-trans (it)&#39;, &#39;url&#39;: &#39;https://it.wikipedia.org/wiki/Isomeria_cis-trans&#39;}, {&#39;title&#39;: &#39;Wikipedia - Isomeria geométrica (pt)&#39;, &#39;url&#39;: &#39;https://pt.wikipedia.org/wiki/Isomeria_geométrica&#39;}, {&#39;title&#39;: &#39;Wikipedia - Isomería cis-trans (es)&#39;, &#39;url&#39;: &#39;https://es.wikipedia.org/wiki/Isomería_cis-trans&#39;}, {&#39;title&#39;: &#39;Wikipedia - Talk:Isomer (en)&#39;, &#39;url&#39;: &#39;https://en.wikipedia.org/wiki/Talk:Isomer&#39;}, {&#39;title&#39;: &#39;Wikipedia - Talk:Stereoisomerism (en)&#39;, &#39;url&#39;: &#39;https://en.wikipedia.org/wiki/Talk:Stereoisomerism&#39;}, {&#39;title&#39;: &#39;Wikipedia - Цис–транс ізомерія (uk)&#39;, &#39;url&#39;: &#39;https://uk.wikipedia.org/wiki/Цис–транс_ізомерія&#39;}, {&#39;title&#39;: &#39;Wikipedia - ایزومری سیس–ترانس (fa)&#39;, &#39;url&#39;: &#39;https://fa.wikipedia.org/wiki/ایزومری_سیس–ترانس&#39;}, {&#39;title&#39;: &#39;Wikipedia - 顺反异构 (zh)&#39;, &#39;url&#39;: &#39;https://zh.wikipedia.org/wiki/顺反异构&#39;}], &#39;links&#39;: {&#39;html&#39;: &#39;https://goldbook.iupac.org/terms/view/C01093/html&#39;, &#39;json&#39;: &#39;https://goldbook.iupac.org/terms/view/C01093/json&#39;, &#39;xml&#39;: &#39;https://goldbook.iupac.org/terms/view/C01093/xml&#39;, &#39;plain&#39;: &#39;https://goldbook.iupac.org/terms/view/C01093/plain&#39;, &#39;pdf&#39;: &#39;https://goldbook.iupac.org/terms/view/C01093/pdf&#39;}, &#39;citeas&#39;: &#39;IUPAC. Compendium of Chemical Terminology, 2nd ed. (the &quot;Gold Book&quot;). Compiled by A. D. McNaught and A. Wilkinson. Blackwell Scientific Publications, Oxford (1997). Online version (2019-) created by S. J. Chalk. ISBN 0-9678550-9-8. https://doi.org/10.1351/goldbook.&#39;, &#39;license&#39;: &#39;Licensed under Creative Commons Attribution-NoDerivatives (CC BY-NC-ND) 4.0 International (https://creativecommons.org/licenses/by-nc-nd/4.0/)&#39;, &#39;collection reuse&#39;: &#39;For parties interested in reusing the entire IUPAC Gold Book please contact IUPAC here https://www.cognitoforms.com/IUPAC1/ContactInformationForm&#39;, &#39;disclaimer&#39;: &#39;The International Union of Pure and Applied Chemistry (IUPAC) is continuously reviewing and, where needed, updating terms in the Compendium of Chemical Terminology (the IUPAC Gold Book). Users of these terms are encouraged to include the version of a term with its use and to check regularly for updates to term definitions that you are using.&#39;, &#39;accessed&#39;: &#39;2023-03-14T13:59:39+00:00&#39;}}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">searchterm</span> <span class="o">+</span> <span class="s2">&quot; (&quot;</span> <span class="o">+</span> <span class="n">searchcode</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">)</span>                 <span class="c1"># print the title and Gold Book term code</span>
<span class="nb">print</span><span class="p">(</span><span class="n">jsondata</span><span class="p">[</span><span class="s1">&#39;term&#39;</span><span class="p">][</span><span class="s1">&#39;definitions&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>           <span class="c1"># extract out and print the definition of the term (compare to above)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>cis-trans isomers (C01093)
Stereoisomeric olefins or cycloalkanes (or hetero-analogues) which differ in the positions of atoms (or groups) relative to a reference plane: in the cis-isomer the atoms are on the same side, in the trans-isomer they are on opposite sides. [image: molecular structures showing cis/trans isomerism]
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-6-try-other-terms">
<h2>Step 6: Try other terms<a class="headerlink" href="#step-6-try-other-terms" title="Permalink to this headline">#</a></h2>
<p>Change the value of the ‘searchterm’ variable above and rerun steps 4 and 5</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./samples"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../sampler.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">We need your feedback!</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="computing_inchis.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Computing InChIs</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By IUPAC WorldFAIR Chemistry D3.2 Project<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>